!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.xstateUtils=e():t.xstateUtils=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";function r(t){try{return"string"==typeof t||"number"==typeof t?""+t:"function"==typeof t?t.name:t.type}catch(t){throw new Error("Events must be strings or objects with a string event.type property.")}}function i(t,e){try{return Array.isArray(t)?t:t.toString().split(e)}catch(e){throw new Error("'"+t+"' is not a valid state path.")}}function a(t,e){return t instanceof g?t.value:"object"!=typeof t||t instanceof g?o(i(t,e)):t}function o(t){if(1===t.length)return t[0];for(var e={},n=e,r=0;r<t.length-1;r++)r===t.length-2?n[t[r]]=t[r+1]:(n[t[r]]={},n=n[t[r]]);return e}function s(t){var e=t.states;return Object.keys(e).reduce(function(t,n){var r=e[n],i=s(e[n]);return t.push.apply(t,[r].concat(i)),t},[])}function u(t,e){return t.on[e].map(function(n){return{source:t,target:t.parent.getState(n.target),event:e,actions:n.actions?n.actions.map(r):[],cond:n.cond}})}function c(t){var e=[];return t.states&&Object.keys(t.states).forEach(function(n){e.push.apply(e,c(t.states[n]))}),Object.keys(t.on).forEach(function(n){e.push.apply(e,u(t,n))}),e}function f(t){function e(i){var a=JSON.stringify(i);if(!n[a]){n[a]={};for(var o=0,s=r;o<s.length;o++){var u=s[o],c=t.transition(i,u);n[a][u]={state:c.value},e(c.value)}}}var n={},r=t.events;return e(t.initialState.value),n}function p(t){function e(r){var s=JSON.stringify(r);o.add(s);for(var u=n[s],c=0,f=Object.keys(u);c<f.length;c++){var p=f[c],v=u[p].state;if(v){var l=JSON.stringify(a(v,t.delimiter));(!i[l]||i[l].length>i[s].length+1)&&(i[l]=(i[s]||[]).concat([{state:r,event:p}]))}}for(var h=0,y=Object.keys(u);h<y.length;h++){var g=y[h],v=u[g].state;if(v){var l=JSON.stringify(v);o.has(l)||e(v)}}return i}if(!t.states)return d;var n=f(t),r=JSON.stringify(t.initialState.value),i=(s={},s[r]=[],s),o=new Set;return e(t.initialState.value),i;var s}function v(t){var e=p(t);return Object.keys(e).map(function(t){return{state:JSON.parse(t),path:e[t]}})}function l(t){function e(t,o){if(r.add(t),t===o)a[o]=a[o]||[],a[o].push(i.slice());else for(var s=0,u=Object.keys(n[t]);s<u.length;s++){var c=u[s],f=n[t][c].state;if(f){var p=JSON.stringify(f);r.has(p)||(i.push({state:JSON.parse(t),event:c}),e(p,o))}}i.pop(),r.delete(t)}if(!t.states)return d;var n=f(t),r=new Set,i=[],a={},o=JSON.stringify(t.initialState.value);return Object.keys(n).forEach(function(t){e(o,t)}),a}function h(t){var e=l(t);return Object.keys(e).map(function(t){return{state:JSON.parse(t),paths:e[t]}})}Object.defineProperty(e,"__esModule",{value:!0});var y={},g=function(){function t(t,e,n,r,i,a){void 0===n&&(n=[]),void 0===r&&(r=y),void 0===i&&(i={}),void 0===a&&(a=[]),this.value=t,this.history=e,this.actions=n,this.activities=r,this.data=i,this.events=a}return t.from=function(e){return e instanceof t?e:new t(e)},t.inert=function(e){return e instanceof t?e.actions.length?new t(e.value,e.history,[]):e:t.from(e)},t.prototype.toString=function(){if("string"==typeof this.value)return this.value;for(var t=[],e=this.value;;){if("string"==typeof e){t.push(e);break}var n=Object.keys(e),r=n[0];if(n.slice(1).length)return;t.push(r),e=e[r]}return t.join(".")},t}();e.getNodes=s,e.getEdges=c,e.getAdjacencyMap=f,e.getShortestPaths=p,e.getShortestPathsAsArray=v,e.getSimplePaths=l,e.getSimplePathsAsArray=h;var d={}}])});